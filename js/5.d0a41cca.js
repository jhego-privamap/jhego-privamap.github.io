(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"45ea":function(t,e,a){t.exports=a.p+"img/evalleyT.ab47b2b1.png"},"713b":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-layout",{attrs:{view:"lHr Lpr lFr"}},[r("q-header",{attrs:{elevated:"",id:"Qheader"}},[r("q-toolbar",[r("q-btn",{attrs:{flat:"",dense:"",round:"",icon:t.leftDrawerOpen?"arrow_back_ios":"menu","aria-label":"Menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),t.leftDrawerOpen?t._e():r("q-toolbar-title",[r("div",{staticClass:"gt-sm inline"},[t._v("\n          PrivaMap\n        ")])]),r("treeselect",{staticStyle:{width:"80%"},attrs:{name:"demo",multiple:!1,clearable:!0,searchable:!0,disabled:!1,"open-on-click":!0,"open-on-focus":!0,"clear-on-select":!0,"close-on-select":!0,"always-open":!1,"append-to-body":!1,options:t.types,limit:3,"max-height":200,"flatten-search-results":!0,placeholder:"Place"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),r("QrCodeReader")],1)],1),r("q-drawer",{staticClass:"mainMenuBackground",attrs:{bordered:""},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[r("div",[r("q-btn",{staticClass:"lt-sm inline",staticStyle:{position:"absolute",top:"9px",right:"-10px",background:"transparent"},attrs:{flat:"",dense:"",round:"",icon:"arrow_back_ios","text-color":"primary","aria-label":"Menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),r("q-list",[r("q-item-label",{staticStyle:{"background-color":"white"},attrs:{header:""}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-1"},[r("q-img",{attrs:{src:a("a683")}})],1),r("div",{staticClass:"col-1"}),r("div",{staticClass:"col-8"},[r("q-img",{attrs:{src:a("45ea")}})],1)])]),r("q-separator"),r("div",{staticClass:"row",staticStyle:{background:"transparent"}},[r("div",{staticClass:"col-12"},[r("h6",{staticClass:"name",staticStyle:{color:"white"}},[t._v("PRENOM NOM - #ID")])])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-4"},[r("q-avatar",{staticClass:"center",attrs:{size:"70px",color:"primary","text-color":"white",icon:"directions_car"}}),r("p",{staticStyle:{color:"white","text-align":"center"}},[t._v("CAR")])],1),r("div",{staticClass:"col-4"},[r("q-avatar",{staticClass:"center",attrs:{size:"70px",color:"primary","text-color":"white",icon:"local_shipping"}}),r("p",{staticStyle:{color:"white","text-align":"center"}},[t._v("TRUCK")])],1),r("div",{staticClass:"col-4"},[r("q-avatar",{staticClass:"center",attrs:{size:"70px",color:"primary","text-color":"white",icon:"shopping_cart"}}),r("p",{staticStyle:{color:"white","text-align":"center"}},[t._v("CART")])],1)]),r("q-btn",{staticClass:"full-width q-mt-md buttonColor-left",attrs:{icon:"img:statics\\QrCode.png",label:"Scanner un QrCode"}}),r("q-btn",{staticClass:"full-width q-mt-md buttonColor-left",attrs:{icon:"search",label:"Numéro de trajet"}}),r("q-btn",{staticClass:"full-width q-mt-md buttonColor-left",attrs:{icon:"layers",label:"Type de carte"}}),r("q-btn",{staticClass:"full-width q-mt-md buttonColor-left",attrs:{icon:"play_circle_outline",label:"Tutoriel d'utilisation"}}),r("q-btn",{staticClass:"full-width q-mt-md buttonColor-left",attrs:{icon:"settings",label:"Réglages"}}),r("div",{staticClass:"fixed-bottom",staticStyle:{color:"white","text-align":"center"}},[t._v("PrivaMap v"+t._s(t.version))])],1)],1)]),r("q-drawer",{staticClass:"infos",attrs:{side:"right",bordered:""},model:{value:t.rightDrawerOpen,callback:function(e){t.rightDrawerOpen=e},expression:"rightDrawerOpen"}},[r("div",[r("q-btn",{staticClass:"inline",staticStyle:{position:"absolute",top:"5%",background:"transparent"},attrs:{flat:"",dense:"",round:"",icon:"arrow_forward_ios","text-color":"white","aria-label":"Menu"},on:{click:function(e){return t.close()}}}),r("q-icon",{staticStyle:{position:"absolute",top:"20px",right:"10px","font-size":"3rem"},attrs:{name:"img:statics/defibrillateur2.png"}}),r("q-list",[r("q-item-label",{staticClass:"name",attrs:{header:""}},[r("p",{staticClass:"text-h5 whiteText"},[t._v("Informations\n          ")]),r("p",{staticClass:"whiteText"},[t._v(t._s(this.object[0]))]),r("div",{staticStyle:{"background-color":"white"}},[r("p",{staticClass:"blueText"},[r("strong",[t._v("Vérifié le")]),r("br"),t._v(t._s(this.object[1]))])]),r("div",{staticStyle:{"background-color":"white"}},[r("p",{staticClass:"blueText"},[r("strong",[t._v("Prochaine maintenance")]),r("br"),t._v("02/06/2020")])]),r("p",{staticClass:"whiteText"},[r("strong",[t._v("Dernier commentaire :")]),t._v("  "+t._s(t.textInfos)+" ")]),r("q-img",{attrs:{src:a("7c23")}})],1),r("q-btn",{staticClass:"full-width q-mt-md buttonColor-right"},[t._v("Mettre à jour une date sur "),r("strong",[t._v("  "+t._s(this.object[0]))])]),r("q-btn",{staticClass:"full-width q-mt-md buttonColor-right"},[t._v("Ajouter un commentaire sur "),r("strong",[t._v("  "+t._s(this.object[0]))])]),r("q-btn",{staticClass:"full-width q-mt-md buttonColor-left",on:{click:function(e){return t.verify()}}},[t._v(t._s(this.button))])],1)],1)]),r("q-page-container",[r("router-view")],1),r("q-dialog",{attrs:{persistent:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[r("q-card",[r("q-card-section",{staticClass:"row items-center"},[r("q-avatar",{attrs:{icon:"playlist_add_check",color:"primary","text-color":"white"}}),r("span",{staticClass:"q-ml-sm"},[t._v(t._s(this.validText))])],1),r("q-card-actions",{attrs:{align:"right"}},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Annuler",color:"primary"}}),r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",color:"primary"},on:{click:function(e){return t.validate()}}},[t._v(t._s(this.validButton))])],1)],1)],1)],1)},i=[],o=(a("f559"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"col text-center"},[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.showCamera,expression:"!showCamera"}],attrs:{flat:"",round:"",color:"white",size:"lg",icon:"img:statics\\QrCode.png"},on:{click:function(e){return t.turnCameraOn()}}}),t.showCamera?a("q-popup-proxy",{attrs:{breakpoint:1024},on:{hide:function(e){return t.close()}}},[a("q-card",[a("q-banner",{directives:[{name:"show",rawName:"v-show",value:""!==t.text,expression:"text !== ''"}],staticClass:"bg-grey-3",scopedSlots:t._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"videocam_off",color:"primary"}})]},proxy:!0},{key:"action",fn:function(){return[a("q-btn",{attrs:{flat:"",color:"primary",label:"Fermer"},on:{click:function(e){return t.turnCameraOff()}}})]},proxy:!0}],null,!1,3921854672)},[t._v("\n          "+t._s(t.text)+"\n        ")]),a("qrcode-stream",{attrs:{camera:t.camera},on:{init:t.onInit,decode:t.onDecode}})],1)],1):t._e()],1)])}),n=[],s=(a("7f7f"),a("a34a")),l=a.n(s),c=(a("96cf"),a("c973")),u=a.n(c),d=a("9a3e"),p=a("18d6"),m={name:"QrCodeReader",components:{QrcodeStream:d["QrcodeStream"]},data:function(){return{isValid:void 0,camera:"auto",result:null,showCamera:!1,booleanState:!1,popup:!0,text:"",error:""}},methods:{onDecode:function(t){var e=this;return u()(l.a.mark((function a(){return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.result=t,e.turnCameraOff(),p["a"].set("objectId",t);case 3:case"end":return a.stop()}}),a)})))()},close:function(){this.showCamera=!1},turnCameraOn:function(){this.camera="auto",this.showCamera=!0,this.booleanState=!1},turnCameraOff:function(){this.showCamera=!1,this.popup=!1,this.camera="off",this.booleanState=!0},onInit:function(t){var e=this;return u()(l.a.mark((function a(){return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.text="Veuillez activer la caméra",a.next=4,t;case 4:a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](0),"NotAllowedError"===a.t0.name?e.error="L'utilisateur s'est vu refuser l'accès à la caméra":"NotFoundError"===a.t0.name?e.error="Aucun appareil photo approprié n'est installé":"NotSupportedError"===a.t0.name?e.error="La page n'est pas servie sur HTTPS (ou localhost)":"NotReadableError"===a.t0.name?e.error="Peut-être que l'appareil photo est déjà utilisé":"OverconstrainedError"===a.t0.name?e.error="Avez-vous demandé la caméra frontale alors qu'il n'y en a pas ?":"StreamApiNotSupportedError"===a.t0.name&&(e.error="Le navigateur semble manquer de fonctionnalités");case 9:return a.prev=9,a.finish(9);case 11:""!==e.error?e.text=e.error:e.text="";case 12:case"end":return a.stop()}}),a,null,[[0,6,9,11]])})))()}}},b=m,f=a("2877"),h=a("eebe"),v=a.n(h),w=a("9c40"),g=a("7cbe"),C=a("f09f"),q=a("54e1"),x=a("0016"),_=Object(f["a"])(b,o,n,!1,null,null,null),y=_.exports;v()(_,"components",{QBtn:w["a"],QPopupProxy:g["a"],QCard:C["a"],QBanner:q["a"],QIcon:x["a"]});var D=a("ca17"),S=a.n(D),Q=(a("542c"),a("7af2")),k={name:"MainLayout",components:{QrCodeReader:y,Treeselect:S.a},data:function(){return{button:"Valider le contrôle",boolean:!0,value:"Aucun",types:Q,leftDrawerOpen:!1,rightDrawerOpen:!1,version:"0.0.1",confirm:!1,object:[],validText:"Voulez-vous valider la maintenance ?",validButton:"Enregistrer et quitter le site",textInfos:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vehicula leo quis mi vulputate faucibus. Aenean quis odio pharetra, rhoncus enim a, dignissim nisl."}},created:function(){var t=this;this.$q.localStorage.set("object",["","","","",""]),this.timer=setInterval((function(){var e=t.$q.localStorage.getItem("rightDrawerOpen");t.rightDrawerOpen=!0===e,t.$q.localStorage.getItem("leave")?t.button="Valider la sortie":t.button="Valider le contrôle",t.object=t.$q.localStorage.getItem("object"),null!==t.object&&(t.object[0].startsWith("Déf")?t.textInfos="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vehicula ...":t.textInfos="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean vehicula leo quis mi vulputate faucibus. Aenean quis odio pharetra, rhoncus enim a, dignissim nisl.")}),100)},watch:{value:function(t){p["a"].set("objectId",t)}},methods:{verify:function(){this.confirm=!0,this.$q.localStorage.getItem("leave")?(this.boolean=!0,this.validText="Avez-vous quitté le site ?",this.validButton="Confirmer"):(this.boolean=!1,this.validText="Voulez-vous valider la maintenance du "+this.object[0]+"?",this.validButton="Enregistrer et quitter le site")},validate:function(){this.$q.localStorage.set("valid",!0),this.confirm=!0,this.rightDrawerOpen=!1,this.$q.localStorage.getItem("leave")?this.$q.notify({type:"positive",message:"Vous avez quitté le site."}):this.$q.notify({type:"positive",message:"La maintenance du "+this.object[0]+" a bien été validée."})},close:function(){this.$q.localStorage.set("rightDrawerOpen",!1)}}},O=k,j=a("4d5a"),I=a("e359"),T=a("65c6"),A=a("6ac5"),B=a("9404"),N=a("1c1c"),L=a("0170"),$=a("068f"),z=a("eb85"),E=a("cb32"),P=a("09e3"),M=a("24e8"),R=a("a370"),V=a("4b7e"),F=a("7f67"),H=Object(f["a"])(O,r,i,!1,null,null,null);e["default"]=H.exports;v()(H,"components",{QLayout:j["a"],QHeader:I["a"],QToolbar:T["a"],QBtn:w["a"],QToolbarTitle:A["a"],QDrawer:B["a"],QList:N["a"],QItemLabel:L["a"],QImg:$["a"],QSeparator:z["a"],QAvatar:E["a"],QIcon:x["a"],QPageContainer:P["a"],QDialog:M["a"],QCard:C["a"],QCardSection:R["a"],QCardActions:V["a"]}),v()(H,"directives",{ClosePopup:F["a"]})},"7af2":function(t){t.exports=JSON.parse('[{"id":"batiments","label":"Bâtiments","children":[{"id":"batiment_a","label":"Bâtiment A"},{"id":"batiment_b","label":"Bâtiment B"},{"id":"batiment_c","label":"Bâtiment C"},{"id":"batiment_d","label":"Bâtiment D"}]},{"id":"defibrilateurs","label":"Défibrillateurs","children":[{"id":"def1","label":"Défibrillateur 1"},{"id":"def2","label":"Défibrillateur 2"},{"id":"def3","label":"Défibrillateur 3"},{"id":"def4","label":"Défibrillateur 4"},{"id":"def5","label":"Défibrillateur 5"},{"id":"def6","label":"Défibrillateur 6"},{"id":"def7","label":"Défibrillateur 7"},{"id":"def8","label":"Défibrillateur 8"},{"id":"def9","label":"Défibrillateur 9"}]}]')},"7c23":function(t,e,a){t.exports=a.p+"img/def.ab0cdda1.png"},a683:function(t,e,a){t.exports=a.p+"img/evalleyS.bdaa990b.png"}}]);